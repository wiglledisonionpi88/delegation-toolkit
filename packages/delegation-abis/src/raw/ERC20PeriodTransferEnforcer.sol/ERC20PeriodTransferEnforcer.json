{"abi":[{"type":"function","name":"afterAllHook","inputs":[{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes32","internalType":"ModeCode"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes32","internalType":"bytes32"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"afterHook","inputs":[{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes32","internalType":"ModeCode"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes32","internalType":"bytes32"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"beforeAllHook","inputs":[{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes32","internalType":"ModeCode"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes32","internalType":"bytes32"},{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"beforeHook","inputs":[{"name":"_terms","type":"bytes","internalType":"bytes"},{"name":"","type":"bytes","internalType":"bytes"},{"name":"_mode","type":"bytes32","internalType":"ModeCode"},{"name":"_executionCallData","type":"bytes","internalType":"bytes"},{"name":"_delegationHash","type":"bytes32","internalType":"bytes32"},{"name":"","type":"address","internalType":"address"},{"name":"_redeemer","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getAvailableAmount","inputs":[{"name":"_delegationHash","type":"bytes32","internalType":"bytes32"},{"name":"_delegationManager","type":"address","internalType":"address"},{"name":"_terms","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"availableAmount_","type":"uint256","internalType":"uint256"},{"name":"isNewPeriod_","type":"bool","internalType":"bool"},{"name":"currentPeriod_","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getTermsInfo","inputs":[{"name":"_terms","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"token_","type":"address","internalType":"address"},{"name":"periodAmount_","type":"uint256","internalType":"uint256"},{"name":"periodDuration_","type":"uint256","internalType":"uint256"},{"name":"startDate_","type":"uint256","internalType":"uint256"}],"stateMutability":"pure"},{"type":"function","name":"periodicAllowances","inputs":[{"name":"delegationManager","type":"address","internalType":"address"},{"name":"delegationHash","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"periodAmount","type":"uint256","internalType":"uint256"},{"name":"periodDuration","type":"uint256","internalType":"uint256"},{"name":"startDate","type":"uint256","internalType":"uint256"},{"name":"lastTransferPeriod","type":"uint256","internalType":"uint256"},{"name":"transferredInCurrentPeriod","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"event","name":"TransferredInPeriod","inputs":[{"name":"sender","type":"address","indexed":true,"internalType":"address"},{"name":"redeemer","type":"address","indexed":true,"internalType":"address"},{"name":"delegationHash","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"token","type":"address","indexed":false,"internalType":"address"},{"name":"periodAmount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"periodDuration","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"startDate","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"transferredInCurrentPeriod","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"transferTimestamp","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false}],"bytecode":{"object":"0x608060405234801561001057600080fd5b50610d12806100206000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063a145832a1161005b578063a145832a1461013e578063b99deb0e14610151578063d3eddcc514610082578063ed4633671461008257600080fd5b8063414c3e33146100825780636a9843f61461009e5780637b91dc78146100d1575b600080fd5b61009c610090366004610a20565b50505050505050505050565b005b6100b16100ac366004610aed565b61018e565b604080519384529115156020840152908201526060015b60405180910390f35b6101166100df366004610b47565b6000602081815292815260408082209093529081522080546001820154600283015460038401546004909401549293919290919085565b604080519586526020860194909452928401919091526060830152608082015260a0016100c8565b61009c61014c366004610a20565b610265565b61016461015f366004610b71565b61034a565b604080516001600160a01b03909516855260208501939093529183015260608201526080016100c8565b6001600160a01b0383166000908152602081815260408083208784528252808320815160a081018352815481526001820154938101939093526002810154918301829052600381015460608401526004015460808301528291829115610203576101f781610416565b9350935093505061025b565b6000806000610212898961034a565b9350935093505060006040518060a00160405280858152602001848152602001838152602001600081526020016000815250905061024f81610416565b97509750975050505050505b9450945094915050565b856102718160006104aa565b6102c25760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6102d38160006104aa565b61032d5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084016102b9565b5061033c8c8c898989886104c1565b505050505050505050505050565b6000808080607485146103a65760405162461bcd60e51b81526020600482015260306024820152600080516020610cbd83398151915260448201526f0d8d2c85ae8cae4dae65ad8cadccee8d60831b60648201526084016102b9565b6103b4601460008789610bb3565b6103bd91610bdd565b60601c93506103d0603460148789610bb3565b6103d991610c12565b92506103e9605460348789610bb3565b6103f291610c12565b9150610402607460548789610bb3565b61040b91610c12565b939692955090935050565b60008060008360400151421015610435575060009150819050806104a3565b602084015160408501516104499042610c46565b6104539190610c59565b61045e906001610c7b565b90508084606001511415915060008261047b57846080015161047e565b60005b90508085600001511161049257600061049f565b845161049f908290610c46565b9350505b9193909250565b6001600160f81b0319828116908216145b92915050565b60003660006104d0878761096a565b929550935090915050604481146105345760405162461bcd60e51b81526020600482015260346024820152600080516020610cbd8339815191526044820152730d8d2c85acaf0cac6eae8d2dedc5ad8cadccee8d60631b60648201526084016102b9565b6000806000806105448d8d61034a565b9350935093509350866001600160a01b0316846001600160a01b0316146105b05760405162461bcd60e51b815260206004820152602c6024820152600080516020610cbd83398151915260448201526b1b1a590b58dbdb9d1c9858dd60a21b60648201526084016102b9565b63a9059cbb60e01b6105c660046000888a610bb3565b6105cf91610c8e565b6001600160e01b031916146106275760405162461bcd60e51b815260206004820152602a6024820152600080516020610cbd8339815191526044820152691b1a590b5b595d1a1bd960b21b60648201526084016102b9565b336000908152602081815260408083208c8452909152812060028101549091036107e157600082116106a55760405162461bcd60e51b81526020600482015260336024820152600080516020610cbd8339815191526044820152726c69642d7a65726f2d73746172742d6461746560681b60648201526084016102b9565b600084116107025760405162461bcd60e51b81526020600482015260366024820152600080516020610cbd8339815191526044820152751b1a590b5e995c9bcb5c195c9a5bd90b585b5bdd5b9d60521b60648201526084016102b9565b600083116107665760405162461bcd60e51b81526020600482015260386024820152600080516020610cbd83398151915260448201527f6c69642d7a65726f2d706572696f642d6475726174696f6e000000000000000060648201526084016102b9565b814210156107cf5760405162461bcd60e51b815260206004820152603060248201527f4552433230506572696f645472616e73666572456e666f726365723a7472616e60448201526f1cd9995c8b5b9bdd0b5cdd185c9d195960821b60648201526084016102b9565b83815560018101839055600281018290555b600080600061082c846040518060a001604052908160008201548152602001600182015481526020016002820154815260200160038201548152602001600482015481525050610416565b919450925090506000610843604460248c8e610bb3565b61084c91610c12565b9050838111156108bb5760405162461bcd60e51b815260206004820152603460248201527f4552433230506572696f645472616e73666572456e666f726365723a7472616e6044820152731cd9995c8b585b5bdd5b9d0b595e18d95959195960621b60648201526084016102b9565b82156108d05760038501829055600060048601555b808560040160008282546108e49190610c7b565b90915550506004850154604080516001600160a01b038c81168252602082018c90529181018a90526060810189905260808101929092524260a08301528f91908f169033907fb2a345c7f80b4be490c405f4a994faf85384dd05da7d70be0801dc31a8c253af9060c00160405180910390a4505050505050505050505050505050505050565b600080368161097c6014828789610bb3565b61098591610bdd565b60601c9350610998603460148789610bb3565b6109a191610c12565b92506109b08560348189610bb3565b949793965094505050565b60008083601f8401126109cd57600080fd5b50813567ffffffffffffffff8111156109e557600080fd5b6020830191508360208285010111156109fd57600080fd5b9250929050565b80356001600160a01b0381168114610a1b57600080fd5b919050565b60008060008060008060008060008060e08b8d031215610a3f57600080fd5b8a3567ffffffffffffffff80821115610a5757600080fd5b610a638e838f016109bb565b909c509a5060208d0135915080821115610a7c57600080fd5b610a888e838f016109bb565b909a50985060408d0135975060608d0135915080821115610aa857600080fd5b50610ab58d828e016109bb565b90965094505060808b01359250610ace60a08c01610a04565b9150610adc60c08c01610a04565b90509295989b9194979a5092959850565b60008060008060608587031215610b0357600080fd5b84359350610b1360208601610a04565b9250604085013567ffffffffffffffff811115610b2f57600080fd5b610b3b878288016109bb565b95989497509550505050565b60008060408385031215610b5a57600080fd5b610b6383610a04565b946020939093013593505050565b60008060208385031215610b8457600080fd5b823567ffffffffffffffff811115610b9b57600080fd5b610ba7858286016109bb565b90969095509350505050565b60008085851115610bc357600080fd5b83861115610bd057600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff198135818116916014851015610c0a5780818660140360031b1b83161692505b505092915050565b803560208310156104bb57600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b818103818111156104bb576104bb610c30565b600082610c7657634e487b7160e01b600052601260045260246000fd5b500490565b808201808211156104bb576104bb610c30565b6001600160e01b03198135818116916004851015610c0a5760049490940360031b84901b169092169291505056fe4552433230506572696f645472616e73666572456e666f726365723a696e7661a264697066735822122078259b929dc2fea71614ebe238bd74e88ff3ea3542e0d11a18122c300122d3f664736f6c63430008170033","sourceMap":"946:11266:67:-:0;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561001057600080fd5b506004361061007d5760003560e01c8063a145832a1161005b578063a145832a1461013e578063b99deb0e14610151578063d3eddcc514610082578063ed4633671461008257600080fd5b8063414c3e33146100825780636a9843f61461009e5780637b91dc78146100d1575b600080fd5b61009c610090366004610a20565b50505050505050505050565b005b6100b16100ac366004610aed565b61018e565b604080519384529115156020840152908201526060015b60405180910390f35b6101166100df366004610b47565b6000602081815292815260408082209093529081522080546001820154600283015460038401546004909401549293919290919085565b604080519586526020860194909452928401919091526060830152608082015260a0016100c8565b61009c61014c366004610a20565b610265565b61016461015f366004610b71565b61034a565b604080516001600160a01b03909516855260208501939093529183015260608201526080016100c8565b6001600160a01b0383166000908152602081815260408083208784528252808320815160a081018352815481526001820154938101939093526002810154918301829052600381015460608401526004015460808301528291829115610203576101f781610416565b9350935093505061025b565b6000806000610212898961034a565b9350935093505060006040518060a00160405280858152602001848152602001838152602001600081526020016000815250905061024f81610416565b97509750975050505050505b9450945094915050565b856102718160006104aa565b6102c25760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6102d38160006104aa565b61032d5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084016102b9565b5061033c8c8c898989886104c1565b505050505050505050505050565b6000808080607485146103a65760405162461bcd60e51b81526020600482015260306024820152600080516020610cbd83398151915260448201526f0d8d2c85ae8cae4dae65ad8cadccee8d60831b60648201526084016102b9565b6103b4601460008789610bb3565b6103bd91610bdd565b60601c93506103d0603460148789610bb3565b6103d991610c12565b92506103e9605460348789610bb3565b6103f291610c12565b9150610402607460548789610bb3565b61040b91610c12565b939692955090935050565b60008060008360400151421015610435575060009150819050806104a3565b602084015160408501516104499042610c46565b6104539190610c59565b61045e906001610c7b565b90508084606001511415915060008261047b57846080015161047e565b60005b90508085600001511161049257600061049f565b845161049f908290610c46565b9350505b9193909250565b6001600160f81b0319828116908216145b92915050565b60003660006104d0878761096a565b929550935090915050604481146105345760405162461bcd60e51b81526020600482015260346024820152600080516020610cbd8339815191526044820152730d8d2c85acaf0cac6eae8d2dedc5ad8cadccee8d60631b60648201526084016102b9565b6000806000806105448d8d61034a565b9350935093509350866001600160a01b0316846001600160a01b0316146105b05760405162461bcd60e51b815260206004820152602c6024820152600080516020610cbd83398151915260448201526b1b1a590b58dbdb9d1c9858dd60a21b60648201526084016102b9565b63a9059cbb60e01b6105c660046000888a610bb3565b6105cf91610c8e565b6001600160e01b031916146106275760405162461bcd60e51b815260206004820152602a6024820152600080516020610cbd8339815191526044820152691b1a590b5b595d1a1bd960b21b60648201526084016102b9565b336000908152602081815260408083208c8452909152812060028101549091036107e157600082116106a55760405162461bcd60e51b81526020600482015260336024820152600080516020610cbd8339815191526044820152726c69642d7a65726f2d73746172742d6461746560681b60648201526084016102b9565b600084116107025760405162461bcd60e51b81526020600482015260366024820152600080516020610cbd8339815191526044820152751b1a590b5e995c9bcb5c195c9a5bd90b585b5bdd5b9d60521b60648201526084016102b9565b600083116107665760405162461bcd60e51b81526020600482015260386024820152600080516020610cbd83398151915260448201527f6c69642d7a65726f2d706572696f642d6475726174696f6e000000000000000060648201526084016102b9565b814210156107cf5760405162461bcd60e51b815260206004820152603060248201527f4552433230506572696f645472616e73666572456e666f726365723a7472616e60448201526f1cd9995c8b5b9bdd0b5cdd185c9d195960821b60648201526084016102b9565b83815560018101839055600281018290555b600080600061082c846040518060a001604052908160008201548152602001600182015481526020016002820154815260200160038201548152602001600482015481525050610416565b919450925090506000610843604460248c8e610bb3565b61084c91610c12565b9050838111156108bb5760405162461bcd60e51b815260206004820152603460248201527f4552433230506572696f645472616e73666572456e666f726365723a7472616e6044820152731cd9995c8b585b5bdd5b9d0b595e18d95959195960621b60648201526084016102b9565b82156108d05760038501829055600060048601555b808560040160008282546108e49190610c7b565b90915550506004850154604080516001600160a01b038c81168252602082018c90529181018a90526060810189905260808101929092524260a08301528f91908f169033907fb2a345c7f80b4be490c405f4a994faf85384dd05da7d70be0801dc31a8c253af9060c00160405180910390a4505050505050505050505050505050505050565b600080368161097c6014828789610bb3565b61098591610bdd565b60601c9350610998603460148789610bb3565b6109a191610c12565b92506109b08560348189610bb3565b949793965094505050565b60008083601f8401126109cd57600080fd5b50813567ffffffffffffffff8111156109e557600080fd5b6020830191508360208285010111156109fd57600080fd5b9250929050565b80356001600160a01b0381168114610a1b57600080fd5b919050565b60008060008060008060008060008060e08b8d031215610a3f57600080fd5b8a3567ffffffffffffffff80821115610a5757600080fd5b610a638e838f016109bb565b909c509a5060208d0135915080821115610a7c57600080fd5b610a888e838f016109bb565b909a50985060408d0135975060608d0135915080821115610aa857600080fd5b50610ab58d828e016109bb565b90965094505060808b01359250610ace60a08c01610a04565b9150610adc60c08c01610a04565b90509295989b9194979a5092959850565b60008060008060608587031215610b0357600080fd5b84359350610b1360208601610a04565b9250604085013567ffffffffffffffff811115610b2f57600080fd5b610b3b878288016109bb565b95989497509550505050565b60008060408385031215610b5a57600080fd5b610b6383610a04565b946020939093013593505050565b60008060208385031215610b8457600080fd5b823567ffffffffffffffff811115610b9b57600080fd5b610ba7858286016109bb565b90969095509350505050565b60008085851115610bc357600080fd5b83861115610bd057600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff198135818116916014851015610c0a5780818660140360031b1b83161692505b505092915050565b803560208310156104bb57600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b818103818111156104bb576104bb610c30565b600082610c7657634e487b7160e01b600052601260045260246000fd5b500490565b808201808211156104bb576104bb610c30565b6001600160e01b03198135818116916004851015610c0a5760049490940360031b84901b169092169291505056fe4552433230506572696f645472616e73666572456e666f726365723a696e7661a264697066735822122078259b929dc2fea71614ebe238bd74e88ff3ea3542e0d11a18122c300122d3f664736f6c63430008170033","sourceMap":"946:11266:67:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;614:126:63;;;;;;:::i;:::-;;;;;;;;;;;;;;3867:977:67;;;;;;:::i;:::-;;:::i;:::-;;;;2622:25:111;;;2690:14;;2683:22;2678:2;2663:18;;2656:50;2722:18;;;2715:34;2610:2;2595:18;3867:977:67;;;;;;;;1674:116;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3278:25:111;;;3334:2;3319:18;;3312:34;;;;3362:18;;;3355:34;;;;3420:2;3405:18;;3398:34;3463:3;3448:19;;3441:35;3265:3;3250:19;1674:116:67;3019:463:111;5723:439:67;;;;;;:::i;:::-;;:::i;6820:497::-;;;;;;:::i;:::-;;:::i;:::-;;;;-1:-1:-1;;;;;4150:32:111;;;4132:51;;4214:2;4199:18;;4192:34;;;;4242:18;;;4235:34;4300:2;4285:18;;4278:34;4119:3;4104:19;6820:497:67;3901:417:111;3867:977:67;-1:-1:-1;;;;;4175:38:67;;4048:24;4175:38;;;;;;;;;;;:55;;;;;;;;4131:99;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4048:24;;;;4244:31;4240:106;;4298:37;4318:16;4298:19;:37::i;:::-;4291:44;;;;;;;;;4240:106;4422:21;4445:23;4470:18;4492:20;4505:6;;4492:12;:20::i;:::-;4419:93;;;;;;;4523:35;4561:228;;;;;;;;4607:13;4561:228;;;;4650:15;4561:228;;;;4690:10;4561:228;;;;4734:1;4561:228;;;;4777:1;4561:228;;;4523:266;;4806:31;4826:10;4806:19;:31::i;:::-;4799:38;;;;;;;;;;;3867:977;;;;;;;;;:::o;5723:439::-;6011:5;1402:45:63;6011:5:67;2789:4:16;1402:45:63;:::i;:::-;1394:90;;;;-1:-1:-1;;;1394:90:63;;4525:2:111;1394:90:63;;;4507:21:111;;;4544:18;;;4537:30;4603:34;4583:18;;;4576:62;4655:18;;1394:90:63;;;;;;;;;6051:5:67;4155:1:16;4151:12;;;2014:29:63::1;4151:12:16::0;1954:18:63::1;2014:29;:::i;:::-;2006:79;;;::::0;-1:-1:-1;;;2006:79:63;;4886:2:111;2006:79:63::1;::::0;::::1;4868:21:111::0;4925:2;4905:18;;;4898:30;4964:34;4944:18;;;4937:62;-1:-1:-1;;;5015:18:111;;;5008:35;5060:19;;2006:79:63::1;4684:401:111::0;2006:79:63::1;1937:159;6072:83:67::2;6100:6;;6108:18;;6128:15;6145:9;6072:27;:83::i;:::-;1504:1:63::1;5723:439:67::0;;;;;;;;;;;:::o;6820:497::-;6910:14;;;;7033:3;7016:20;;7008:81;;;;-1:-1:-1;;;7008:81:67;;5292:2:111;7008:81:67;;;5274:21:111;5331:2;5311:18;;;5304:30;-1:-1:-1;;;;;;;;;;;5350:18:111;;;5343:62;-1:-1:-1;;;5421:18:111;;;5414:46;5477:19;;7008:81:67;5090:412:111;7008:81:67;7125:12;7134:2;7132:1;7125:6;;:12;:::i;:::-;7117:21;;;:::i;:::-;7109:30;;;-1:-1:-1;7181:13:67;7191:2;7188;7181:6;;:13;:::i;:::-;7173:22;;;:::i;:::-;7165:31;-1:-1:-1;7240:13:67;7250:2;7247;7240:6;;:13;:::i;:::-;7232:22;;;:::i;:::-;7224:31;-1:-1:-1;7294:14:67;7304:3;7301:2;7294:6;;:14;:::i;:::-;7286:23;;;:::i;:::-;6820:497;;;;-1:-1:-1;6820:497:67;;-1:-1:-1;;6820:497:67:o;11523:687::-;11636:24;11662:17;11681:22;11741:10;:20;;;11723:15;:38;11719:89;;;-1:-1:-1;11785:1:67;;-1:-1:-1;11785:1:67;;-1:-1:-1;11785:1:67;11777:20;;11719:89;11878:25;;;;11854:20;;;;11836:38;;:15;:38;:::i;:::-;11835:68;;;;:::i;:::-;:72;;11906:1;11835:72;:::i;:::-;11818:89;;11967:14;11934:10;:29;;;:47;;11918:64;;11993:26;12022:12;:56;;12041:10;:37;;;12022:56;;;12037:1;12022:56;11993:85;;12134:18;12108:10;:23;;;:44;:95;;12202:1;12108:95;;;12155:23;;:44;;12181:18;;12155:44;:::i;:::-;12089:114;;11709:501;11523:687;;;;;;:::o;5304:120:16:-;-1:-1:-1;;;;;;5381:40:16;;;;;;;5304:120;;;;;:::o;8137:2481:67:-;8345:15;8363:24;;8391:33;:18;;:31;:33::i;:::-;8344:80;;-1:-1:-1;8344:80:67;-1:-1:-1;8344:80:67;;-1:-1:-1;;8463:2:67;8443:22;;8435:87;;;;-1:-1:-1;;;8435:87:67;;7264:2:111;8435:87:67;;;7246:21:111;7303:2;7283:18;;;7276:30;-1:-1:-1;;;;;;;;;;;7322:18:111;;;7315:62;-1:-1:-1;;;7393:18:111;;;7386:50;7453:19;;8435:87:67;7062:416:111;8435:87:67;8534:14;8550:21;8573:23;8598:18;8620:20;8633:6;;8620:12;:20::i;:::-;8533:107;;;;;;;;8669:7;-1:-1:-1;;;;;8659:17:67;:6;-1:-1:-1;;;;;8659:17:67;;8651:74;;;;-1:-1:-1;;;8651:74:67;;7685:2:111;8651:74:67;;;7667:21:111;7724:2;7704:18;;;7697:30;-1:-1:-1;;;;;;;;;;;7743:18:111;;;7736:62;-1:-1:-1;;;7814:18:111;;;7807:42;7866:19;;8651:74:67;7483:408:111;8651:74:67;-1:-1:-1;;;8750:14:67;8762:1;8760;8750:9;;:14;:::i;:::-;8743:22;;;:::i;:::-;-1:-1:-1;;;;;;8743:50:67;;8735:105;;;;-1:-1:-1;;;8735:105:67;;8426:2:111;8735:105:67;;;8408:21:111;8465:2;8445:18;;;8438:30;-1:-1:-1;;;;;;;;;;;8484:18:111;;;8477:62;-1:-1:-1;;;8555:18:111;;;8548:40;8605:19;;8735:105:67;8224:406:111;8735:105:67;8909:10;8851:36;8890:30;;;;;;;;;;;:47;;;;;;;;9002:20;;;;8890:47;;9002:25;8998:652;;9064:1;9051:10;:14;9043:78;;;;-1:-1:-1;;;9043:78:67;;8837:2:111;9043:78:67;;;8819:21:111;8876:2;8856:18;;;8849:30;-1:-1:-1;;;;;;;;;;;8895:18:111;;;8888:62;-1:-1:-1;;;8966:18:111;;;8959:49;9025:19;;9043:78:67;8635:415:111;9043:78:67;9159:1;9143:13;:17;9135:84;;;;-1:-1:-1;;;9135:84:67;;9257:2:111;9135:84:67;;;9239:21:111;9296:2;9276:18;;;9269:30;-1:-1:-1;;;;;;;;;;;9315:18:111;;;9308:62;-1:-1:-1;;;9386:18:111;;;9379:52;9448:19;;9135:84:67;9055:418:111;9135:84:67;9259:1;9241:15;:19;9233:88;;;;-1:-1:-1;;;9233:88:67;;9680:2:111;9233:88:67;;;9662:21:111;9719:2;9699:18;;;9692:30;-1:-1:-1;;;;;;;;;;;9738:18:111;;;9731:62;9829:26;9809:18;;;9802:54;9873:19;;9233:88:67;9478:420:111;9233:88:67;9418:10;9399:15;:29;;9391:90;;;;-1:-1:-1;;;9391:90:67;;10105:2:111;9391:90:67;;;10087:21:111;10144:2;10124:18;;;10117:30;10183:34;10163:18;;;10156:62;-1:-1:-1;;;10234:18:111;;;10227:46;10290:19;;9391:90:67;9903:412:111;9391:90:67;9496:39;;;9549:25;;;:43;;;9606:20;;;:33;;;8998:652;9734:18;9754:17;9773:22;9799:31;9819:10;9799:31;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:19;:31::i;:::-;9733:97;;-1:-1:-1;9733:97:67;-1:-1:-1;9733:97:67;-1:-1:-1;9841:23:67;9883:16;9896:2;9893;9883:9;;:16;:::i;:::-;9875:25;;;:::i;:::-;9867:34;-1:-1:-1;9919:29:67;;;;9911:94;;;;-1:-1:-1;;;9911:94:67;;10522:2:111;9911:94:67;;;10504:21:111;10561:2;10541:18;;;10534:30;10600:34;10580:18;;;10573:62;-1:-1:-1;;;10651:18:111;;;10644:50;10711:19;;9911:94:67;10320:416:111;9911:94:67;10104:12;10100:144;;;10132:29;;;:46;;;10232:1;10192:37;;;:41;10100:144;10295:15;10254:10;:37;;;:56;;;;;;;:::i;:::-;;;;-1:-1:-1;;10535:37:67;;;;10326:285;;;-1:-1:-1;;;;;11046:32:111;;;11028:51;;11110:2;11095:18;;11088:34;;;11138:18;;;11131:34;;;11196:2;11181:18;;11174:34;;;11239:3;11224:19;;11217:35;;;;10586:15:67;11066:3:111;11268:19;;11261:35;10406:15:67;;10326:285;;;;10359:10;;10326:285;;11015:3:111;11000:19;10326:285:67;;;;;;;8334:2284;;;;;;;;;;;;8137:2481;;;;;;:::o;2513:333:15:-;2616:14;;2647:23;2616:14;2711:23;2731:2;2616:14;2711:17;;:23;:::i;:::-;2703:32;;;:::i;:::-;2695:41;;;-1:-1:-1;2770:24:15;2791:2;2788;2770:17;;:24;:::i;:::-;2762:33;;;:::i;:::-;2754:42;-1:-1:-1;2817:22:15;:17;2835:2;2817:17;;:22;:::i;:::-;2513:333;;;;-1:-1:-1;2806:33:15;-1:-1:-1;;;2513:333:15:o;14:347:111:-;65:8;75:6;129:3;122:4;114:6;110:17;106:27;96:55;;147:1;144;137:12;96:55;-1:-1:-1;170:20:111;;213:18;202:30;;199:50;;;245:1;242;235:12;199:50;282:4;274:6;270:17;258:29;;334:3;327:4;318:6;310;306:19;302:30;299:39;296:59;;;351:1;348;341:12;296:59;14:347;;;;;:::o;366:173::-;434:20;;-1:-1:-1;;;;;483:31:111;;473:42;;463:70;;529:1;526;519:12;463:70;366:173;;;:::o;544:1321::-;719:6;727;735;743;751;759;767;775;783;791;844:3;832:9;823:7;819:23;815:33;812:53;;;861:1;858;851:12;812:53;901:9;888:23;930:18;971:2;963:6;960:14;957:34;;;987:1;984;977:12;957:34;1026:58;1076:7;1067:6;1056:9;1052:22;1026:58;:::i;:::-;1103:8;;-1:-1:-1;1000:84:111;-1:-1:-1;1191:2:111;1176:18;;1163:32;;-1:-1:-1;1207:16:111;;;1204:36;;;1236:1;1233;1226:12;1204:36;1275:60;1327:7;1316:8;1305:9;1301:24;1275:60;:::i;:::-;1354:8;;-1:-1:-1;1249:86:111;-1:-1:-1;1436:2:111;1421:18;;1408:32;;-1:-1:-1;1493:2:111;1478:18;;1465:32;;-1:-1:-1;1509:16:111;;;1506:36;;;1538:1;1535;1528:12;1506:36;;1577:60;1629:7;1618:8;1607:9;1603:24;1577:60;:::i;:::-;1656:8;;-1:-1:-1;1551:86:111;-1:-1:-1;;1738:3:111;1723:19;;1710:33;;-1:-1:-1;1762:39:111;1796:3;1781:19;;1762:39;:::i;:::-;1752:49;;1820:39;1854:3;1843:9;1839:19;1820:39;:::i;:::-;1810:49;;544:1321;;;;;;;;;;;;;:::o;1870:551::-;1958:6;1966;1974;1982;2035:2;2023:9;2014:7;2010:23;2006:32;2003:52;;;2051:1;2048;2041:12;2003:52;2087:9;2074:23;2064:33;;2116:38;2150:2;2139:9;2135:18;2116:38;:::i;:::-;2106:48;;2205:2;2194:9;2190:18;2177:32;2232:18;2224:6;2221:30;2218:50;;;2264:1;2261;2254:12;2218:50;2303:58;2353:7;2344:6;2333:9;2329:22;2303:58;:::i;:::-;1870:551;;;;-1:-1:-1;2380:8:111;-1:-1:-1;;;;1870:551:111:o;2760:254::-;2828:6;2836;2889:2;2877:9;2868:7;2864:23;2860:32;2857:52;;;2905:1;2902;2895:12;2857:52;2928:29;2947:9;2928:29;:::i;:::-;2918:39;3004:2;2989:18;;;;2976:32;;-1:-1:-1;;;2760:254:111:o;3487:409::-;3557:6;3565;3618:2;3606:9;3597:7;3593:23;3589:32;3586:52;;;3634:1;3631;3624:12;3586:52;3674:9;3661:23;3707:18;3699:6;3696:30;3693:50;;;3739:1;3736;3729:12;3693:50;3778:58;3828:7;3819:6;3808:9;3804:22;3778:58;:::i;:::-;3855:8;;3752:84;;-1:-1:-1;3487:409:111;-1:-1:-1;;;;3487:409:111:o;5507:331::-;5612:9;5623;5665:8;5653:10;5650:24;5647:44;;;5687:1;5684;5677:12;5647:44;5716:6;5706:8;5703:20;5700:40;;;5736:1;5733;5726:12;5700:40;-1:-1:-1;;5762:23:111;;;5807:25;;;;;-1:-1:-1;5507:331:111:o;5843:337::-;-1:-1:-1;;5964:19:111;;6051:11;;;;6082:2;6074:11;;6071:103;;;6161:2;6155;6148:3;6144:2;6140:12;6137:1;6133:20;6129:29;6125:2;6121:38;6117:47;6108:56;;6071:103;;;5843:337;;;;:::o;6185:255::-;6305:19;;6344:2;6336:11;;6333:101;;;-1:-1:-1;;6405:2:111;6401:12;;;6398:1;6394:20;6390:33;6379:45;6185:255;;;;:::o;6445:127::-;6506:10;6501:3;6497:20;6494:1;6487:31;6537:4;6534:1;6527:15;6561:4;6558:1;6551:15;6577:128;6644:9;;;6665:11;;;6662:37;;;6679:18;;:::i;6710:217::-;6750:1;6776;6766:132;;6820:10;6815:3;6811:20;6808:1;6801:31;6855:4;6852:1;6845:15;6883:4;6880:1;6873:15;6766:132;-1:-1:-1;6912:9:111;;6710:217::o;6932:125::-;6997:9;;;7018:10;;;7015:36;;;7031:18;;:::i;7896:323::-;-1:-1:-1;;;;;;8016:19:111;;8092:11;;;;8123:1;8115:10;;8112:101;;;8184:1;8180:11;;;;8177:1;8173:19;8169:28;;;8161:37;8157:46;;;;7896:323;-1:-1:-1;;7896:323:111:o","linkReferences":{}},"methodIdentifiers":{"afterAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":"ed463367","afterHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":"d3eddcc5","beforeAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":"414c3e33","beforeHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":"a145832a","getAvailableAmount(bytes32,address,bytes)":"6a9843f6","getTermsInfo(bytes)":"b99deb0e","periodicAllowances(address,bytes32)":"7b91dc78"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.23+commit.f704f362\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"redeemer\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"delegationHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"periodAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"periodDuration\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"startDate\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"transferredInCurrentPeriod\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"transferTimestamp\",\"type\":\"uint256\"}],\"name\":\"TransferredInPeriod\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"ModeCode\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"afterAllHook\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"ModeCode\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"afterHook\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"ModeCode\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"beforeAllHook\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"_terms\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"},{\"internalType\":\"ModeCode\",\"name\":\"_mode\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"_executionCallData\",\"type\":\"bytes\"},{\"internalType\":\"bytes32\",\"name\":\"_delegationHash\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_redeemer\",\"type\":\"address\"}],\"name\":\"beforeHook\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"_delegationHash\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"_delegationManager\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"_terms\",\"type\":\"bytes\"}],\"name\":\"getAvailableAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"availableAmount_\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"isNewPeriod_\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"currentPeriod_\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"_terms\",\"type\":\"bytes\"}],\"name\":\"getTermsInfo\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"token_\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"periodAmount_\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"periodDuration_\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"startDate_\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"delegationManager\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"delegationHash\",\"type\":\"bytes32\"}],\"name\":\"periodicAllowances\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"periodAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"periodDuration\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"startDate\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lastTransferPeriod\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"transferredInCurrentPeriod\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"This contract implements a mechanism by which a user may transfer up to a fixed amount of tokens (the period amount)      during a given time period. The transferable amount resets at the beginning of each period, and any unused tokens      are forfeited once the period ends. Partial transfers within a period are allowed, but the total transfer in any      period cannot exceed the specified limit.This enforcer operates only in single execution call type and with default execution mode.\",\"events\":{\"TransferredInPeriod(address,address,bytes32,address,uint256,uint256,uint256,uint256,uint256)\":{\"params\":{\"delegationHash\":\"The hash identifying the delegation.\",\"periodAmount\":\"The maximum tokens transferable per period.\",\"periodDuration\":\"The duration of each period (in seconds).\",\"redeemer\":\"The address that receives the tokens.\",\"sender\":\"The address initiating the transfer.\",\"startDate\":\"The timestamp when the first period begins.\",\"token\":\"The ERC20 token contract address.\",\"transferTimestamp\":\"The block timestamp at which the transfer was executed.\",\"transferredInCurrentPeriod\":\"The total tokens transferred in the current period after this transfer.\"}}},\"kind\":\"dev\",\"methods\":{\"afterAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"details\":\"This function MUST revert if the conditions are not met.\",\"params\":{\"_args\":\"An optional input parameter set by the redeemer at time of invocation.\",\"_delegationHash\":\"The hash of the delegation.\",\"_delegator\":\"The address of the delegator.\",\"_executionCalldata\":\"The data representing the execution.\",\"_mode\":\"The mode of execution for the executionCalldata.\",\"_redeemer\":\"The address that is redeeming the delegation.\",\"_terms\":\"The terms to enforce set by the delegator.\"}},\"afterHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"details\":\"This function MUST revert if the conditions are not met.\",\"params\":{\"_args\":\"An optional input parameter set by the redeemer at time of invocation.\",\"_delegationHash\":\"The hash of the delegation.\",\"_delegator\":\"The address of the delegator.\",\"_executionCalldata\":\"The data representing the execution.\",\"_mode\":\"The mode of execution for the executionCalldata.\",\"_redeemer\":\"The address that is redeeming the delegation.\",\"_terms\":\"The terms to enforce set by the delegator.\"}},\"beforeAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"details\":\"This function MUST revert if the conditions are not met.\",\"params\":{\"_args\":\"An optional input parameter set by the redeemer at time of invocation.\",\"_delegationHash\":\"The hash of the delegation.\",\"_delegator\":\"The address of the delegator.\",\"_executionCalldata\":\"The data representing the execution.\",\"_mode\":\"The mode of execution for the executionCalldata.\",\"_redeemer\":\"The address that is redeeming the delegation.\",\"_terms\":\"The terms to enforce set by the delegator.\"}},\"beforeHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"details\":\"Reverts if the transfer amount exceeds the available tokens for the current period.      Expects `_terms` to be a 116-byte blob encoding the ERC20 token, period amount, period duration, and start date.\",\"params\":{\"_delegationHash\":\"The hash identifying the delegation.\",\"_executionCallData\":\"The transaction data (should be an `IERC20.transfer(address,uint256)` call).\",\"_mode\":\"The execution mode. (Must be Single callType, Default execType)\",\"_redeemer\":\"The address intended to receive the tokens.\",\"_terms\":\"116 packed bytes:  - 20 bytes: ERC20 token address.  - 32 bytes: periodAmount.  - 32 bytes: periodDuration (in seconds).  - 32 bytes: startDate for the first period.\"}},\"getAvailableAmount(bytes32,address,bytes)\":{\"params\":{\"_delegationHash\":\"The hash that identifies the delegation.\",\"_delegationManager\":\"The address of the delegation manager.\",\"_terms\":\"116 packed bytes:  - 20 bytes: ERC20 token address.  - 32 bytes: periodAmount.  - 32 bytes: periodDuration (in seconds).  - 32 bytes: startDate for the first period.\"},\"returns\":{\"availableAmount_\":\"The number of tokens available to transfer in the current period.\",\"currentPeriod_\":\"The current period index based on the start date and period duration.\",\"isNewPeriod_\":\"A boolean indicating whether a new period has started (i.e., last transfer period differs from current).\"}},\"getTermsInfo(bytes)\":{\"details\":\"Expects a 116-byte blob and extracts the ERC20 token address, period amount, period duration, and start date.\",\"params\":{\"_terms\":\"116 packed bytes:  - 20 bytes: ERC20 token address.  - 32 bytes: periodAmount.  - 32 bytes: periodDuration (in seconds).  - 32 bytes: startDate.\"},\"returns\":{\"periodAmount_\":\"The maximum tokens transferable per period.\",\"periodDuration_\":\"The duration of each period in seconds.\",\"startDate_\":\"The timestamp when the first period begins.\",\"token_\":\"The address of the ERC20 token contract.\"}}},\"stateVariables\":{\"periodicAllowances\":{\"details\":\"Mapping from a delegation manager address and delegation hash to a PeriodicAllowance.\"}},\"title\":\"ERC20PeriodTransferEnforcer\",\"version\":1},\"userdoc\":{\"events\":{\"TransferredInPeriod(address,address,bytes32,address,uint256,uint256,uint256,uint256,uint256)\":{\"notice\":\"Emitted when a transfer is made, updating the transferred amount in the active period.\"}},\"kind\":\"user\",\"methods\":{\"afterAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"notice\":\"Enforces conditions after all actions in a batch redemption process have been executed.\"},\"afterHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"notice\":\"Enforces conditions after the execution tied to a specific delegation in the redemption process.\"},\"beforeAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"notice\":\"Enforces conditions before any actions in a batch redemption process begin.\"},\"beforeHook(bytes,bytes,bytes32,bytes,bytes32,address,address)\":{\"notice\":\"Hook called before an ERC20 transfer to enforce the periodic transfer limit.\"},\"getAvailableAmount(bytes32,address,bytes)\":{\"notice\":\"Retrieves the current transferable amount along with period status for a given delegation.\"},\"getTermsInfo(bytes)\":{\"notice\":\"Decodes the transfer terms.\"}},\"notice\":\"Enforces periodic transfer limits for ERC20 token transfers.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/enforcers/ERC20PeriodTransferEnforcer.sol\":\"ERC20PeriodTransferEnforcer\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@FCL/=lib/FCL/solidity/src/\",\":@SCL/=lib/SCL/src/\",\":@account-abstraction/=lib/account-abstraction/contracts/\",\":@bytes-utils/=lib/solidity-bytes-utils/contracts/\",\":@erc7579/=lib/erc7579-implementation/src/\",\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-upgradable-contracts/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@solidity-stringutils/=lib/solidity-stringutils/src/\",\":@solidity/=lib/SCL/src/\",\":FCL/=lib/FCL/solidity/src/\",\":SCL/=lib/SCL/\",\":account-abstraction/=lib/account-abstraction/contracts/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":erc7579-implementation/=lib/erc7579-implementation/src/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":sentinellist/=lib/erc7579-implementation/node_modules/@rhinestone/sentinellist/src/\",\":solady/=lib/erc7579-implementation/node_modules/solady/src/\",\":solidity-bytes-utils/=lib/solidity-bytes-utils/contracts/\",\":solidity-stringutils/=lib/solidity-stringutils/\"]},\"sources\":{\"lib/account-abstraction/contracts/interfaces/PackedUserOperation.sol\":{\"keccak256\":\"0x1129b46381db68eddbc5cb49e50664667b66b03c480453858e7b25eabe444359\",\"license\":\"GPL-3.0\",\"urls\":[\"bzz-raw://499a948aba60480dba6e25c763b8d918f1c246eb7a3302e04f493e080f3295be\",\"dweb:/ipfs/QmeRhhswf4NACcBKam2PyjpTP2ddSm648kah5kkQJsvwz3\"]},\"lib/erc7579-implementation/src/interfaces/IERC7579Account.sol\":{\"keccak256\":\"0x08368aba5f1bb83eb57e9f8d31a04edee4be69159b4844a6443f65100917011c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://789244f53fb8b25f4bacb8ac0b9c2f5ea2067a9c5c7bd13fd00e10618e52e2ff\",\"dweb:/ipfs/QmVSbGSyDpfL6UfyvaMBQHmV9u52wway1h3caJnvXVgkvn\"]},\"lib/erc7579-implementation/src/lib/ExecutionLib.sol\":{\"keccak256\":\"0xb436732367ed8a45ddfaa95c9c977ee7674ff5755353c3792a38608640406126\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8a60f10547e9d25e96e516406f16a35ce075dd4db79b7dccd92f90224c9f23b4\",\"dweb:/ipfs/QmcC3jpNmo7kT1oU8taPuZRjcWh88J3d4rv3hYsQKRVBwW\"]},\"lib/erc7579-implementation/src/lib/ModeLib.sol\":{\"keccak256\":\"0x02ce0fc8805d1427841f32e2335157e3fae18e99d5c49ba46d53e12fcd1a5185\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://9900d0dfb593b136a058a16f1817f60d5096c3eca6adea662381e12c241b14b4\",\"dweb:/ipfs/QmdsfLLtfzY9oEpZxk1Ve1PLuPQdphZcNK92L6mHa8n1h7\"]},\"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0xee2337af2dc162a973b4be6d3f7c16f06298259e0af48c5470d2839bfa8a22f4\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://30c476b4b2f405c1bb3f0bae15b006d129c80f1bfd9d0f2038160a3bb9745009\",\"dweb:/ipfs/Qmb3VcuDufv6xbHeVgksC4tHpc5gKYVqBEwjEXW72XzSvN\"]},\"src/enforcers/CaveatEnforcer.sol\":{\"keccak256\":\"0xe6e44a3dfcb667fba89d7dc73ba06327add01a9ef4ecd11f3627d97e337041d5\",\"license\":\"MIT AND Apache-2.0\",\"urls\":[\"bzz-raw://79988dc7b56022300549c6ede1c7075fdcadb308191e0ece4f85f94f69036bb5\",\"dweb:/ipfs/QmRG1q4NFfo6RpoVWMdK3679eLg2fUru4dUESwCcmxzvoz\"]},\"src/enforcers/ERC20PeriodTransferEnforcer.sol\":{\"keccak256\":\"0x3a510be9fd05dea3c2076e458b9f25f48a50bb8cb961a5be65af97882da12332\",\"license\":\"MIT AND Apache-2.0\",\"urls\":[\"bzz-raw://b18d0c03564a05e80bed28d04313a4be7dc8b6a0f7b848c53d407dbccd312a26\",\"dweb:/ipfs/QmSiMWQpndGwzdXWHMBsULWYrDmozesMTRVFKbDL9domDa\"]},\"src/interfaces/ICaveatEnforcer.sol\":{\"keccak256\":\"0x61c2d69cb8cc4b04d5ce786ff1b38c07009a262b64900e58a109239942bfad16\",\"license\":\"MIT AND Apache-2.0\",\"urls\":[\"bzz-raw://a67f09f1229e703574dff9103daafa494e90e22577691f180ecfc2c3f50a3ecc\",\"dweb:/ipfs/QmVFXq8mx2PMkgMLoh3pTyQqkH9umwRUjKXtjeZscktf79\"]},\"src/utils/Constants.sol\":{\"keccak256\":\"0x5f1e2913a96b7f88bc7fbd2de329465822ae0d438ff212883c6dd3bd5e9609a5\",\"license\":\"MIT AND Apache-2.0\",\"urls\":[\"bzz-raw://51a750792520aaf10cb246112d5554bb33007edd8be97b78e90be9847d663978\",\"dweb:/ipfs/QmbQSZGNeG9f8DNVbCEo1SGRoJU4fQJwQfUHrzQNayFWNs\"]},\"src/utils/Types.sol\":{\"keccak256\":\"0xda4094eb4839087157f34750fb4d1a2d6241fbb8ee0d41fd1f2905209e6a05b0\",\"license\":\"MIT AND Apache-2.0\",\"urls\":[\"bzz-raw://1fab0d416245579b01d908ffb607f41ace7b103c1c6a3b9d0f8b32f29ac46247\",\"dweb:/ipfs/QmfDWFbdCEkvaKnPpZmDPtxYVBxHt2XA2zY9jon9Jm7pFf\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.23+commit.f704f362"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"sender","type":"address","indexed":true},{"internalType":"address","name":"redeemer","type":"address","indexed":true},{"internalType":"bytes32","name":"delegationHash","type":"bytes32","indexed":true},{"internalType":"address","name":"token","type":"address","indexed":false},{"internalType":"uint256","name":"periodAmount","type":"uint256","indexed":false},{"internalType":"uint256","name":"periodDuration","type":"uint256","indexed":false},{"internalType":"uint256","name":"startDate","type":"uint256","indexed":false},{"internalType":"uint256","name":"transferredInCurrentPeriod","type":"uint256","indexed":false},{"internalType":"uint256","name":"transferTimestamp","type":"uint256","indexed":false}],"type":"event","name":"TransferredInPeriod","anonymous":false},{"inputs":[{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"ModeCode","name":"","type":"bytes32"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"bytes32","name":"","type":"bytes32"},{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"afterAllHook"},{"inputs":[{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"ModeCode","name":"","type":"bytes32"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"bytes32","name":"","type":"bytes32"},{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"afterHook"},{"inputs":[{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"ModeCode","name":"","type":"bytes32"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"bytes32","name":"","type":"bytes32"},{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"beforeAllHook"},{"inputs":[{"internalType":"bytes","name":"_terms","type":"bytes"},{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"ModeCode","name":"_mode","type":"bytes32"},{"internalType":"bytes","name":"_executionCallData","type":"bytes"},{"internalType":"bytes32","name":"_delegationHash","type":"bytes32"},{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"_redeemer","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"beforeHook"},{"inputs":[{"internalType":"bytes32","name":"_delegationHash","type":"bytes32"},{"internalType":"address","name":"_delegationManager","type":"address"},{"internalType":"bytes","name":"_terms","type":"bytes"}],"stateMutability":"view","type":"function","name":"getAvailableAmount","outputs":[{"internalType":"uint256","name":"availableAmount_","type":"uint256"},{"internalType":"bool","name":"isNewPeriod_","type":"bool"},{"internalType":"uint256","name":"currentPeriod_","type":"uint256"}]},{"inputs":[{"internalType":"bytes","name":"_terms","type":"bytes"}],"stateMutability":"pure","type":"function","name":"getTermsInfo","outputs":[{"internalType":"address","name":"token_","type":"address"},{"internalType":"uint256","name":"periodAmount_","type":"uint256"},{"internalType":"uint256","name":"periodDuration_","type":"uint256"},{"internalType":"uint256","name":"startDate_","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"delegationManager","type":"address"},{"internalType":"bytes32","name":"delegationHash","type":"bytes32"}],"stateMutability":"view","type":"function","name":"periodicAllowances","outputs":[{"internalType":"uint256","name":"periodAmount","type":"uint256"},{"internalType":"uint256","name":"periodDuration","type":"uint256"},{"internalType":"uint256","name":"startDate","type":"uint256"},{"internalType":"uint256","name":"lastTransferPeriod","type":"uint256"},{"internalType":"uint256","name":"transferredInCurrentPeriod","type":"uint256"}]}],"devdoc":{"kind":"dev","methods":{"afterAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"details":"This function MUST revert if the conditions are not met.","params":{"_args":"An optional input parameter set by the redeemer at time of invocation.","_delegationHash":"The hash of the delegation.","_delegator":"The address of the delegator.","_executionCalldata":"The data representing the execution.","_mode":"The mode of execution for the executionCalldata.","_redeemer":"The address that is redeeming the delegation.","_terms":"The terms to enforce set by the delegator."}},"afterHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"details":"This function MUST revert if the conditions are not met.","params":{"_args":"An optional input parameter set by the redeemer at time of invocation.","_delegationHash":"The hash of the delegation.","_delegator":"The address of the delegator.","_executionCalldata":"The data representing the execution.","_mode":"The mode of execution for the executionCalldata.","_redeemer":"The address that is redeeming the delegation.","_terms":"The terms to enforce set by the delegator."}},"beforeAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"details":"This function MUST revert if the conditions are not met.","params":{"_args":"An optional input parameter set by the redeemer at time of invocation.","_delegationHash":"The hash of the delegation.","_delegator":"The address of the delegator.","_executionCalldata":"The data representing the execution.","_mode":"The mode of execution for the executionCalldata.","_redeemer":"The address that is redeeming the delegation.","_terms":"The terms to enforce set by the delegator."}},"beforeHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"details":"Reverts if the transfer amount exceeds the available tokens for the current period.      Expects `_terms` to be a 116-byte blob encoding the ERC20 token, period amount, period duration, and start date.","params":{"_delegationHash":"The hash identifying the delegation.","_executionCallData":"The transaction data (should be an `IERC20.transfer(address,uint256)` call).","_mode":"The execution mode. (Must be Single callType, Default execType)","_redeemer":"The address intended to receive the tokens.","_terms":"116 packed bytes:  - 20 bytes: ERC20 token address.  - 32 bytes: periodAmount.  - 32 bytes: periodDuration (in seconds).  - 32 bytes: startDate for the first period."}},"getAvailableAmount(bytes32,address,bytes)":{"params":{"_delegationHash":"The hash that identifies the delegation.","_delegationManager":"The address of the delegation manager.","_terms":"116 packed bytes:  - 20 bytes: ERC20 token address.  - 32 bytes: periodAmount.  - 32 bytes: periodDuration (in seconds).  - 32 bytes: startDate for the first period."},"returns":{"availableAmount_":"The number of tokens available to transfer in the current period.","currentPeriod_":"The current period index based on the start date and period duration.","isNewPeriod_":"A boolean indicating whether a new period has started (i.e., last transfer period differs from current)."}},"getTermsInfo(bytes)":{"details":"Expects a 116-byte blob and extracts the ERC20 token address, period amount, period duration, and start date.","params":{"_terms":"116 packed bytes:  - 20 bytes: ERC20 token address.  - 32 bytes: periodAmount.  - 32 bytes: periodDuration (in seconds).  - 32 bytes: startDate."},"returns":{"periodAmount_":"The maximum tokens transferable per period.","periodDuration_":"The duration of each period in seconds.","startDate_":"The timestamp when the first period begins.","token_":"The address of the ERC20 token contract."}}},"version":1},"userdoc":{"kind":"user","methods":{"afterAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"notice":"Enforces conditions after all actions in a batch redemption process have been executed."},"afterHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"notice":"Enforces conditions after the execution tied to a specific delegation in the redemption process."},"beforeAllHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"notice":"Enforces conditions before any actions in a batch redemption process begin."},"beforeHook(bytes,bytes,bytes32,bytes,bytes32,address,address)":{"notice":"Hook called before an ERC20 transfer to enforce the periodic transfer limit."},"getAvailableAmount(bytes32,address,bytes)":{"notice":"Retrieves the current transferable amount along with period status for a given delegation."},"getTermsInfo(bytes)":{"notice":"Decodes the transfer terms."}},"version":1}},"settings":{"remappings":["@FCL/=lib/FCL/solidity/src/","@SCL/=lib/SCL/src/","@account-abstraction/=lib/account-abstraction/contracts/","@bytes-utils/=lib/solidity-bytes-utils/contracts/","@erc7579/=lib/erc7579-implementation/src/","@openzeppelin/contracts-upgradeable/=lib/openzeppelin-upgradable-contracts/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@solidity-stringutils/=lib/solidity-stringutils/src/","@solidity/=lib/SCL/src/","FCL/=lib/FCL/solidity/src/","SCL/=lib/SCL/","account-abstraction/=lib/account-abstraction/contracts/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","erc7579-implementation/=lib/erc7579-implementation/src/","forge-std/=lib/forge-std/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/","sentinellist/=lib/erc7579-implementation/node_modules/@rhinestone/sentinellist/src/","solady/=lib/erc7579-implementation/node_modules/solady/src/","solidity-bytes-utils/=lib/solidity-bytes-utils/contracts/","solidity-stringutils/=lib/solidity-stringutils/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/enforcers/ERC20PeriodTransferEnforcer.sol":"ERC20PeriodTransferEnforcer"},"evmVersion":"london","libraries":{}},"sources":{"lib/account-abstraction/contracts/interfaces/PackedUserOperation.sol":{"keccak256":"0x1129b46381db68eddbc5cb49e50664667b66b03c480453858e7b25eabe444359","urls":["bzz-raw://499a948aba60480dba6e25c763b8d918f1c246eb7a3302e04f493e080f3295be","dweb:/ipfs/QmeRhhswf4NACcBKam2PyjpTP2ddSm648kah5kkQJsvwz3"],"license":"GPL-3.0"},"lib/erc7579-implementation/src/interfaces/IERC7579Account.sol":{"keccak256":"0x08368aba5f1bb83eb57e9f8d31a04edee4be69159b4844a6443f65100917011c","urls":["bzz-raw://789244f53fb8b25f4bacb8ac0b9c2f5ea2067a9c5c7bd13fd00e10618e52e2ff","dweb:/ipfs/QmVSbGSyDpfL6UfyvaMBQHmV9u52wway1h3caJnvXVgkvn"],"license":"MIT"},"lib/erc7579-implementation/src/lib/ExecutionLib.sol":{"keccak256":"0xb436732367ed8a45ddfaa95c9c977ee7674ff5755353c3792a38608640406126","urls":["bzz-raw://8a60f10547e9d25e96e516406f16a35ce075dd4db79b7dccd92f90224c9f23b4","dweb:/ipfs/QmcC3jpNmo7kT1oU8taPuZRjcWh88J3d4rv3hYsQKRVBwW"],"license":"MIT"},"lib/erc7579-implementation/src/lib/ModeLib.sol":{"keccak256":"0x02ce0fc8805d1427841f32e2335157e3fae18e99d5c49ba46d53e12fcd1a5185","urls":["bzz-raw://9900d0dfb593b136a058a16f1817f60d5096c3eca6adea662381e12c241b14b4","dweb:/ipfs/QmdsfLLtfzY9oEpZxk1Ve1PLuPQdphZcNK92L6mHa8n1h7"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol":{"keccak256":"0xee2337af2dc162a973b4be6d3f7c16f06298259e0af48c5470d2839bfa8a22f4","urls":["bzz-raw://30c476b4b2f405c1bb3f0bae15b006d129c80f1bfd9d0f2038160a3bb9745009","dweb:/ipfs/Qmb3VcuDufv6xbHeVgksC4tHpc5gKYVqBEwjEXW72XzSvN"],"license":"MIT"},"src/enforcers/CaveatEnforcer.sol":{"keccak256":"0xe6e44a3dfcb667fba89d7dc73ba06327add01a9ef4ecd11f3627d97e337041d5","urls":["bzz-raw://79988dc7b56022300549c6ede1c7075fdcadb308191e0ece4f85f94f69036bb5","dweb:/ipfs/QmRG1q4NFfo6RpoVWMdK3679eLg2fUru4dUESwCcmxzvoz"],"license":"MIT AND Apache-2.0"},"src/enforcers/ERC20PeriodTransferEnforcer.sol":{"keccak256":"0x3a510be9fd05dea3c2076e458b9f25f48a50bb8cb961a5be65af97882da12332","urls":["bzz-raw://b18d0c03564a05e80bed28d04313a4be7dc8b6a0f7b848c53d407dbccd312a26","dweb:/ipfs/QmSiMWQpndGwzdXWHMBsULWYrDmozesMTRVFKbDL9domDa"],"license":"MIT AND Apache-2.0"},"src/interfaces/ICaveatEnforcer.sol":{"keccak256":"0x61c2d69cb8cc4b04d5ce786ff1b38c07009a262b64900e58a109239942bfad16","urls":["bzz-raw://a67f09f1229e703574dff9103daafa494e90e22577691f180ecfc2c3f50a3ecc","dweb:/ipfs/QmVFXq8mx2PMkgMLoh3pTyQqkH9umwRUjKXtjeZscktf79"],"license":"MIT AND Apache-2.0"},"src/utils/Constants.sol":{"keccak256":"0x5f1e2913a96b7f88bc7fbd2de329465822ae0d438ff212883c6dd3bd5e9609a5","urls":["bzz-raw://51a750792520aaf10cb246112d5554bb33007edd8be97b78e90be9847d663978","dweb:/ipfs/QmbQSZGNeG9f8DNVbCEo1SGRoJU4fQJwQfUHrzQNayFWNs"],"license":"MIT AND Apache-2.0"},"src/utils/Types.sol":{"keccak256":"0xda4094eb4839087157f34750fb4d1a2d6241fbb8ee0d41fd1f2905209e6a05b0","urls":["bzz-raw://1fab0d416245579b01d908ffb607f41ace7b103c1c6a3b9d0f8b32f29ac46247","dweb:/ipfs/QmfDWFbdCEkvaKnPpZmDPtxYVBxHt2XA2zY9jon9Jm7pFf"],"license":"MIT AND Apache-2.0"}},"version":1},"id":67}